services:
  # FastAPI backend (Docker)
  - type: web
    name: rand-a-pizza-backend
    runtime: docker
    plan: free
    dockerfilePath: ./Dockerfile_backend
    dockerContext: .
    envVars:
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_KEY
        sync: false
      - key: PORT
        value: 8000

  # Vite/React frontend (Docker)
  - type: web
    name: rand-a-pizza-frontend
    runtime: docker
    plan: free
    dockerfilePath: ./Dockerfile_frontend
    dockerContext: .
    envVars:
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_KEY
        sync: false
      - key: PORT
        value: 5173
